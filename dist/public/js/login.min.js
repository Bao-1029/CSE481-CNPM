const form=document.getElementById("login-form");function login(formData){return fetch("user/login",{method:"POST",body:formData}).then(response=>{500==response.status?alert(`Check your internet connection\nerror code: ${response.status}`):response.error&&alert(response.error),302==response.status&&window.location.replace("dashboard")}).catch(err=>console.log("Request failed",err))}document.getElementById("btn-login").addEventListener("click",(function(e){e.preventDefault();const formData=new FormData(form),username=window.btoa(formData.get("username")),password=formData.get("password");password.length<8?alert("Mật khẩu dài ít nhất 8 kí tự"):(formData.append("username",username),formData.append("password",window.btoa(password)),login(formData))}));